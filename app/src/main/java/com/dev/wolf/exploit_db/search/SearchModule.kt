package com.dev.wolf.exploit_db.search

import com.dev.wolf.exploit_db.search.ui.ExploitSuggestionsProvider
import com.dev.wolf.exploit_db.search.ui.SearchViewModel
import com.dev.wolf.exploit_db.search.ui.suggestion.SearchSuggestionViewModel
import org.koin.android.ext.koin.androidContext
import org.koin.androidx.viewmodel.dsl.viewModel
import org.koin.dsl.module

val searchModule
    get() = module {

        single { ExploitSearchRepository(get(), androidContext(), get()) }

        factory { ExploitSuggestionsProvider.createSuggestions(androidContext()) }

        viewModel { params ->
            SearchViewModel(get(), params[0], get())
        }
        viewModel { SearchSuggestionViewModel(get()) }
    }