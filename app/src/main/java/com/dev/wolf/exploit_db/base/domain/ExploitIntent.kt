package com.dev.wolf.exploit_db.base.domain

import android.content.Intent
import android.net.Uri
import android.os.Bundle
import com.dev.wolf.exploit_db.core.model.Exploit

data class ExploitIntent(
    val exploit: Exploit?,
    val exploitId: Long,
    val uri: Uri?
) {

    companion object {

        fun from(intent: Intent?) = ExploitIntent(
            exploit = intent?.getParcelableExtra(KEY_EXPLOIT),
            exploitId = intent?.getLongExtra(KEY_ID, ID_NONE) ?: ID_NONE,
            uri = intent?.data
        )

        fun from(args: Bundle?) = ExploitIntent(
            exploit = args?.getParcelable(KEY_EXPLOIT),
            exploitId = args?.getLong(KEY_ID, ID_NONE) ?: ID_NONE,
            uri = null
        )

        const val ID_NONE = 0L
        const val KEY_EXPLOIT = "exploit"
        const val KEY_ID = "id"
    }
}