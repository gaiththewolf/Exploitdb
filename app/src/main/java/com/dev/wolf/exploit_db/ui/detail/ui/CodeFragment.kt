package com.dev.wolf.exploit_db.ui.detail.ui

import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import androidx.core.graphics.Insets
import androidx.core.view.updatePadding
import com.dev.wolf.exploit_db.R
import com.dev.wolf.exploit_db.base.BaseFragment
import com.dev.wolf.exploit_db.databinding.FragmentCodeBinding
import org.koin.androidx.viewmodel.ext.android.sharedViewModel

class CodeFragment : BaseFragment<FragmentCodeBinding>() {

    private val viewModel by sharedViewModel<DetailsViewModel>()

    override fun onInflateView(
        inflater: LayoutInflater,
        container: ViewGroup?
    ) = FragmentCodeBinding.inflate(inflater, container, false)

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        binding.exploitCodeView.setCode(getString(R.string.listing_md))
    }

    override fun onWindowInsetsChanged(insets: Insets) {
        binding.exploitCodeView.updatePadding(
            bottom = insets.bottom
        )
        binding.root.updatePadding(
            left = insets.left,
            right = insets.right
        )
    }
}